 <html>
<header>
<style>
 .imgSmall{
 height: 50px;
 }
  .imgLarge{
 height: 700px;
 width:1870px;
 padding-left:0px;
 }
.margin-top-20px{
 margin-top:20px;
 }
 .padding-left-5px{
 padding-left:5px;
 }
 .home1{
    height: 55px;
    border: none;
    margin-left: 550px;
    width: 85%;
	margin-top: -400px;
	padding-left:30px ;
 }
  .home2{
    height: 55px;
    border: none;
    margin-left: 660px;
    width: 85%;
	margin-top: -55px;
	padding-left:30px ;
 }

 .locateMe1{
    height: 55px;
    border: none;
    margin-left: 1129px;
    width: 15%;
	margin-top: -400px;
	padding-left:30px;
	background-color:#da3939;
 }
  .locateMe2{
    height: 55px;
    border: none;
    margin-left: 1125px;
    width: 15%;
	margin-top: -55px;
	padding-left:30px;
	background-color:#da3939;
 }
 .sign-up{
    border: 1px solid #e13636!important;
    padding: 5px 10px;
    background: #fff;
    font-size: 12px;
    color: #e13636;   
 }
 .autocomplatePopup{
    height: auto;
	width:10px;
	background-color:white;
    border: none;
    margin-left: 550px;
    width: 70%;
	margin-top: -350px;
	padding-left:30px;
	margin-top:-394px;
 }
.input-2{
    border: none;
	padding: 2px 2px 0 5px;
    border-radius: 3px;
	background: #da3939;
	color: #fff;
	float: left;
	text-align: center;
    font-size: 12px;	
	height:25px;
	width: 100%;
    margin-top:29px;	
}
.div-location{
    border: none;
	background: white;
	margin-top: -399px;
	margin-left: 550px;
	height:55px;
	width: 13%;	
}
.divMain{
    height: 55px;
    border: none;
    margin-left: -13px;
    width: 100%;
	margin-top: -26px;
	padding-left:20px ;
	background-color:white;
}
.shift_right{
     float:right;
}
 input:focus{
    outline: none;
}
</style>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-animate.js"></script>
 <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script> 
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
</header>
<body ng-app="Box8App">
<div class="col-md-12  margin-top-20px" ng-controller="LocateMeController">
     <div class="header col-md-12" > 
	 <div class="col-md-5">
	   <div class="col-md-4 padding-left-zero">
	   <img class="imgSmall" src="https://box8.in/images/logo.6d41ab8b.png" onclick="return false;"/>
	   </div>
	  </div>
    <div class="col-md-7">	
       <div class="col-md-6"></div>	
	   <div class="col-md-1"><a class="btn" href="#">Home</a></div>
	   <div class="col-md-1"><a  class="btn" href="#">About Us</a></div>
	   <div class="col-md-1"><a  class="btn" href="#">We'r Hiring</a></div>
	   <div class="col-md-1"><a class="btn padding-left-5px" href="#">Offers</a></div>
	   <div class="col-md-1"><a  class="btn" href="#">Sign In</a></div>
	   <div class="col-md-1"><a  class="btn sign-up" href="#">Sign Up</a></div>
	 </div>
     </div>
	 
	 
	 <div class="col-md-12 padding-left-zero">
	  <img class="imgLarge padding-left-zero col-md-12" src="https://box8.in/images/banner/B8-FINAL-WEB-BANNER.d975a91b.jpg" href="X"/>
	 <div style="padding-top:80px;" class="col-md-6">
	 
	 <div class="col-md-12 divMain" > 
	 <div class="div-location" ng-show="ParentLocation.length>0">
	 <span  class="input-2">{{ParentLocation}}
	      <a href="" ng-click="RemoveSelection()"><img src="https://box8.in/images/close.47cfd871.png" alt="" class="shift_right"></a>
	 </span>
	 </div>
	 <input type="text"  id="txtLocation"  ng-model="SearchedLocation" ng-class="ParentLocation.length>0 ?  'home2 col-md-8' : 'home1 col-md-10'"  placeholder="{{LocateMePlaceHolder}}" ng-change="LocateDeliveryLocation()" />
	 <button id="btnLocateMe" class="btn btn-red col-md-2" ng-disabled="DisableSearch" ng-class="ParentLocation.length>0 ? 'locateMe2':'locateMe1'" >Locate Me</button>	
	  </div> 
	<div class="col-md-12" ng-show="ShowLocationList">
        <ul class="autocomplatePopup list-group" ng-model="selectedLocation">
		   <li class="list-group-item" ng-repeat="item in LocationList | filter:SearchedLocation.name" ng-bind="item.name" ng-click="SelectLocation(item.ID,item.name,item.Type,item.ParentID)"></li>           
		   </ul>	
	</div>
     </div>	 
	 </div>
	
 </div>
</body>
<script type="text/javascript">
    var app=angular.module("Box8App",['ngAnimate']);
	app.controller("LocateMeController",function($scope){
	
	//Properties
	$scope.LocateMePlaceHolder="Delivery Location eg.Bangalore";
	$scope.DisableSearch=true;
	$scope.FilteredLocationList=[];
	$scope.ShowLocationList=false;
	$scope.ParentLocation="";
	$scope.LocationList=[
	          {ID:1,name:"Bangalore",Type:"Main",ParentID:0},
			  {ID:2,name:"Chennai",Type:"Main",ParentID:0},
			  {ID:3,name:"BTM",Type:"SubLocation",ParentID:1},
			  {ID:4,name:"Marathahali",Type:"SubLocation",ParentID:1},
			  {ID:5,name:"Koramangala",Type:"SubLocation",ParentID:1},
			  {ID:6,name:"Banasankari",Type:"SubLocation",ParentID:1},
			  {ID:7,name:"Axa Building",Type:"DelivLocation",ParentID:3},
			  {ID:8,name:"Udupi Garden",Type:"DelivLocation",ParentID:3},
			  {ID:9,name:"Water Tank",Type:"DelivLocation",ParentID:3},
			  {ID:10,name:"Marathahali Bridge",Type:"DelivLocation",ParentID:4},
			  {ID:11,name:"Kundanahali Gate",Type:"DelivLocation",ParentID:4},
			  {ID:12,name:"Sony World",Type:"DelivLocation",ParentID:5},
			  {ID:14,name:"NGV",Type:"DelivLocation",ParentID:5},
			  {ID:15,name:"Forum",Type:"DelivLocation",ParentID:5},
			  {ID:15,name:"Banasankari Deport",Type:"DelivLocation",ParentID:6}
			  ];
    
	
	//Functions
     $scope.LocateDeliveryLocation=function(){
	         $scope.DisableSearch=true;
			 $scope.LocateMePlaceHolder="Delivery Location eg.Bangalore";
	     if($scope.SearchedLocation !=undefined && $scope.SearchedLocation.length>0){
		     $scope.ShowLocationList = true;
	      }
		  else{
		     $scope.ShowLocationList=false;
		  }
	    }
	 $scope.SelectLocation=function(id,text,type,parentID){
	       $scope.selectedLocation=id;
		   $scope.SearchedLocation="";
		   $scope.ShowLocationList=false;
		   if(type=="DelivLocation"){
		      $scope.DisableSearch=false;
			  $scope.LocateMePlaceHolder="";
		   }
		   else{
		      $scope.ParentLocation=text;
		      $scope.LocateMePlaceHolder ="Where in " + text;
		   }
	       alert($scope.selectedLocation);
	    }
	 $scope.RemoveSelection=function(){
	         $scope.selectedLocation=0;
		     $scope.SearchedLocation="";
			 $scope.LocateMePlaceHolder="Delivery Location eg.Bangalore";
			 $scope.ShowLocationList=false;
	    }
	});
	
	//Registering directive
	app.directive("parentLocation",function(){
	   return{
	        template:"hello"
	       }
	});
</script>
</html>  

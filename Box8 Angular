 <html>
<header>
<style>
 .imgSmall{
    height: 50px;
 }
.imgLarge{
    height: 700px;
    width:1870px;
    padding-left:0px;
 }
.margin-top-20px{
    margin-top:20px;
 }
 .padding-left-5px{
    padding-left:5px;
 }
 .home1{
    height: 55px;
    border: none;
    margin-left: 550px;
    width: 85%;
	margin-top: -400px;
	padding-left:30px ;
 }
  .home2{
    height: 55px;
    border: none;
    margin-left: 660px;
    width: 85%;
	margin-top: -55px;
	padding-left:30px ;
 }

 .locateMe1{
    height: 55px;
    border: none;
    margin-left: 1129px;
    width: 15%;
	margin-top: -400px;
	padding-left:30px;
	background-color:#da3939;
	cursor:default;
 }
  .locateMe2{
    height: 55px;
    border: none;
    margin-left: 1125px;
    width: 15%;
	margin-top: -55px;
	padding-left:30px;
	background-color:#da3939;
	cursor:pointer;
 }
 .sign-up{
    border: 1px solid #e13636!important;
    padding: 5px 10px;
    background: #fff;
    font-size: 12px;
    color: #e13636;   
 }
 .autocomplatePopup{
    height: auto;
	width:10px;
	background-color:white;
    border: none;
    margin-left: 550px;
    width: 70%;
	margin-top: -350px;
	padding-left:30px;
	margin-top:-394px;
 }
.input-2{
    border: none;
	padding: 2px 2px 0 5px;
    border-radius: 3px;
	background: #da3939;
	color: #fff;
	float: left;
	text-align: center;
    font-size: 12px;	
	height:25px;
	width: 100%;
    margin-top:29px;	
}
.div-location{
    border: none;
	background: white;
	margin-top: -399px;
	margin-left: 550px;
	height:55px;
	width: 13%;	
}
.divMain{
    height: 55px;
    border: none;
    margin-left: -13px;
    width: 100%;
	margin-top: -26px;
	padding-left:20px ;
	background-color:white;
}
.shift_right{
     float:right;
}
 input:focus{
    outline: none;
}
.text-center{
    text-align: center;
}
.menuImage{
    margin-bottom: 30px!important;
	box-shadow: 6px 6px 10px #888;
    padding: 0;
	height: 218px;
    width:373px;
	cursor:pointer;
}
.menuText{
    margin-top: -64px;
    padding-left: 20px;
    font-size: 21px;
    color: #fff;
	text-transform: uppercase;
}
.margin-top-13px{
     margin-top:13px;
}
.white-smoke{
    background-color: whitesmoke;
}
.locationInfoHeader{
background-color:black;
color: #fff;
}
</style>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-animate.js"></script>
 <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script> 
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
</header>
<body ng-app="Box8App">
<div class="col-md-12  margin-top-20px" ng-controller="LocateMeController">
     <div class="header col-md-12" > 
	 <div class="col-md-5">
	   <div class="col-md-4 padding-left-zero">
	   <img class="imgSmall" src="https://box8.in/images/logo.6d41ab8b.png" onclick="return false;"/>
	   </div>
	  </div>
    <div class="col-md-7">	
       <div class="col-md-6"></div>	
	   <div class="col-md-1"><a class="btn" href="#">Home</a></div>
	   <div class="col-md-1"><a  class="btn" href="#">About Us</a></div>
	   <div class="col-md-1"><a  class="btn" href="#">We'r Hiring</a></div>
	   <div class="col-md-1"><a class="btn padding-left-5px" href="#">Offers</a></div>
	   <div class="col-md-1"><a  class="btn" href="#">Sign In</a></div>
	   <div class="col-md-1"><a  class="btn sign-up" href="#">Sign Up</a></div>
	 </div>
     </div>
	 
	 
	 <div class="col-md-12 padding-left-zero" ng-show="ShowLocationSearchDiv">
	  <img class="imgLarge padding-left-zero col-md-12" src="https://box8.in/images/banner/B8-FINAL-WEB-BANNER.d975a91b.jpg" href="X"/>
	 <div style="padding-top:80px;" class="col-md-6">
	 
	 <div class="col-md-12 divMain" > 
	 <div class="div-location" ng-show="ParentLocation.length>0">
	 <span  class="input-2">{{ParentLocation}}
	      <a href="" ng-click="RemoveSelection()"><img src="https://box8.in/images/close.47cfd871.png" alt="" class="shift_right"></a>
	 </span>
	 </div>
	 <input type="text"  id="txtLocation"  ng-model="SearchedLocation" ng-class="ParentLocation.length>0 ?  'home2 col-md-8' : 'home1 col-md-10'"  placeholder="{{LocateMePlaceHolder}}" ng-change="LocateDeliveryLocation()" />
	 <button id="btnLocateMe" class="btn btn-red col-md-2" ng-disabled="DisableSearch" ng-class="ParentLocation.length>0 ? 'locateMe2':'locateMe1'" ng-click="DisplayMenuList()" >Locate Me</button>	
	  </div> 
	<div class="col-md-12" ng-show="ShowLocationList">
        <ul class="autocomplatePopup list-group" ng-model="selectedLocationID">
		   <li class="list-group-item" ng-repeat="item in GetAvailableLocations() | filter:{name:SearchedLocation} | orderBy : 'name'" ng-bind="item.name" ng-click="SelectLocation(item.ID,item.name,item.Type,item.ParentID)"></li>           
		   </ul>	
	</div>
     </div>	 
	 </div>


   <div class="col-md-12 white-smoke" ng-show="ShowMenuList" >
         <span class="col-md-12 text-center" menu-List-Header></span> 
		 <div class="col-md-2"></div>
		 <div class="col-md-8">
		    <div class="col-md-12">
			    <div  class="col-md-4 margin-top-13px" ng-repeat="category in CategoryList">
				   <img ng-src="{{category.Image}}" alt="{{category.CategoryName}}" class="menuImage" ng-click="ShowItems(category.CategoryID)"></img>
				   <div ng-bind="category.CategoryName" class="menuText"></div>
				</div>
			</div>
		 </div>
		 <div class="col-md-2"></div>
   </div>

   <div class="col-md-12" ng-show="ShowItemList">
        <div class="col-md-12 locationInfoHeader">
		   <div class="col-md-1" ></div>
		   <div class="col-md-4">
		      <span class="col-md-6 " style="color:#fff;" text=""></span>
		   </div>
		</div>
   </div>   
</div>
</body>
<script type="text/javascript">
    var app=angular.module("Box8App",['ngAnimate']);
	app.controller("LocateMeController",['$scope','$filter',function($scope,$filter){
	
	//Properties
	$scope.LocateMePlaceHolder="Delivery Location eg.Bangalore";
	$scope.DisableSearch=true;
	$scope.FilteredLocationList=[];
	$scope.ShowLocationList=false;
	$scope.ShowLocationSearchDiv=true;
	$scope.ShowMenuList=false;
	$scope.ShowItemList=false;
	$scope.ParentLocation="";
	$scope.LocationID=0;
	$scope.LocationList=[
	          {ID:1,name:"Bangalore",Type:"Main",ParentID:0},
			  {ID:2,name:"Chennai",Type:"Main",ParentID:0},
			  {ID:3,name:"BTM",Type:"SubLocation",ParentID:1},
			  {ID:4,name:"Marathahali",Type:"SubLocation",ParentID:1},
			  {ID:5,name:"Koramangala",Type:"SubLocation",ParentID:1},
			  {ID:6,name:"Banasankari",Type:"SubLocation",ParentID:1},
			  {ID:7,name:"Axa Building",Type:"DelivLocation",ParentID:3},
			  {ID:8,name:"Udupi Garden",Type:"DelivLocation",ParentID:3},
			  {ID:9,name:"Water Tank",Type:"DelivLocation",ParentID:3},
			  {ID:10,name:"Marathahali Bridge",Type:"DelivLocation",ParentID:4},
			  {ID:11,name:"Kundanahali Gate",Type:"DelivLocation",ParentID:4},
			  {ID:12,name:"Sony World",Type:"DelivLocation",ParentID:5},
			  {ID:14,name:"NGV",Type:"DelivLocation",ParentID:5},
			  {ID:15,name:"Forum",Type:"DelivLocation",ParentID:5},
			  {ID:15,name:"Banasankari Deport",Type:"DelivLocation",ParentID:6}
			  ];
    $scope.CategoryList=[
	           {CategoryID:1, CategoryName: "All-In-1-Meal", Image:"http://assets.box8.co.in/picture_resolutions/photos/000/000/406/original/1110-X-810.jpg?1468821535"},
			   {CategoryID:2, CategoryName: "100% Natural Ice creams", Image:"http://assets.box8.co.in/picture_resolutions/photos/000/000/698/original/vegan-mixed-berry.jpg?1463149241"},
			   {CategoryID:3, CategoryName: "Staples Box", Image:"http://assets.box8.co.in/picture_resolutions/photos/000/000/761/original/Paneer-Makhni-Meal.jpg?1463990830"},
			   {CategoryID:4, CategoryName: "Biryani", Image:"http://assets.box8.co.in/picture_resolutions/photos/000/000/401/original/1110-X-810.jpg?1447237189"},
			   {CategoryID:5, CategoryName: "Wraps", Image:"http://assets.box8.co.in/picture_resolutions/photos/000/000/402/original/1480-X-1080.jpg?1447237389"},
			   {CategoryID:6, CategoryName: "Sandwitches", Image:"http://assets.box8.co.in/picture_resolutions/photos/000/000/403/original/1110-X-810.jpg?1447237540"},
			   {CategoryID:7, CategoryName: "Salads", Image:"http://assets.box8.co.in/picture_resolutions/photos/000/000/475/original/Farmer's-Market-Salad.jpg?1449813576"},
			   {CategoryID:8, CategoryName: "A La Carte", Image:"http://assets.box8.co.in/picture_resolutions/photos/000/000/404/original/1110-X-810.jpg?1450536795"},
			   {CategoryID:9, CategoryName: "Drinks & Desserts", Image:"http://assets.box8.co.in/picture_resolutions/photos/000/000/407/original/1110-X-810.jpg?1453964426"}
	];
	$scope.Category_Items_List=[
	           {ItemID :1,CategoryID :1,ItemType :0,MenuName :"Dal Makhni Meal",MenuDescription :"The best Dal makhni in town + Additional Chole/ Dal Makhni on the side + Salad/Chutney + Dessert",Price :128,ItemImage :"http://assets.box8.co.in/picture_resolutions/photos/000/000/610/original/1110-X-810.jpg?1468823971"  }, //ItemType:0- veg, 1- non-veg
			   {ItemID :2,CategoryID :1,ItemType :0,MenuName :"Chole Tikki Meal",MenuDescription :"Delhi style Chole with Grilled veg patty on the side + Dal Makhni/Chole + Salad/Chutney + Dessert",Price :148,ItemImage :"http://assets.box8.co.in/picture_resolutions/photos/000/000/618/original/1110-X-810.jpg?1468823867"},
			   {ItemID :3,CategoryID :1,ItemType :0,MenuName :"Spicy Paneer Meal",MenuDescription :"Melt-in-your-mouth paneer cubes with spicy curry + Dal Makhni/Chole + Salad/Chutney + Dessert",Price :158,ItemImage :"http://assets.box8.co.in/picture_resolutions/photos/000/000/617/original/1110-X-810.jpg?1468824632"},
			   {ItemID :4,CategoryID :1,ItemType :1,MenuName :"Chicken Masala Meal",MenuDescription :"Lucknowi style Chicken with home style chicken curry + Dal Makhni/Chole + Salad/Chutney + Dessert",Price :178,ItemImage :"http://assets.box8.co.in/picture_resolutions/photos/000/000/640/original/1110-X-810.jpg?1468823352"},
			   {ItemID :5,CategoryID :2,ItemType :0,MenuName :"Madagascar Chocolate [500 mL Family Pack]",MenuDescription :"Deliciously smooth, gooey, dark sinned and made from premium Chocolate. Best chocolate treat ever!",Price :288,ItemImage :"http://assets.box8.co.in/picture_resolutions/photos/000/000/692/original/1110-X-810-Ice-Cream.jpg?1476281424"},
			   {ItemID :6,CategoryID :2,ItemType :0,MenuName :"Mixed Berries [500 mL Family Pack]",MenuDescription :"Delight yourself with delicious berry blast - Californian cranberry,  Blueberry and Strawberry",Price :288,ItemImage :"http://assets.box8.co.in/picture_resolutions/photos/000/000/691/original/1110-X-810-Ice-Cream.jpg?1476281859"},
			   {ItemID :7,CategoryID :2,ItemType :0,MenuName :"Kesar Pista [500 mL Family Pack]",MenuDescription :"Treat yourself with rich flavours of high quality Roasted Pistas, pure Kesar and double cream milk",Price :248,ItemImage :"http://assets.box8.co.in/picture_resolutions/photos/000/000/674/original/1110-X-810-Ice-Cream.jpg?1476281271"},
			   {ItemID :8,CategoryID :3,ItemType :1,MenuName :"Chicken Tikka over Rice",MenuDescription :"Chicken Tikka pieces cooked in a home style Curry. Enjoy with Rice, Salad, Mint Chutney and Garlic Yogurt.",Price :148,ItemImage :"http://assets.box8.co.in/picture_resolutions/photos/000/000/762/original/Chicken-Masala-Meal.jpg?1463990888"},
			   {ItemID :9,CategoryID :3,ItemType :0,MenuName :"Paneer Masala over Rice",MenuDescription :"Melt in the mouth Paneer cubes with Salad, Mint Chutney and Garlic Yogurt over rice and Masala Curry.",Price :148,ItemImage :"http://assets.box8.co.in/picture_resolutions/photos/000/000/763/original/Spicy-Paneer-Meal.jpg?1463990913"},
			   {ItemID :10,CategoryID :3,ItemType :0,MenuName :"Dal Makhni Chawal",MenuDescription :"The best Dal Makhni in town, Topped with Salad, Hari Chutney and a dash of fresh Garlic Yogurt. Life is sorted.",Price :108,ItemImage :"http://assets.box8.co.in/picture_resolutions/photos/000/000/765/original/Dal-Makhni-Meal.jpg?1463990943"},
			   {ItemID :11,CategoryID :4,ItemType :0,MenuName :"Firangi Subz Biryani",MenuDescription :"Baby corn, mushroom & paneer. A burst of flavours",Price :158,ItemImage :"http://assets.box8.co.in/picture_resolutions/photos/000/000/408/original/Firangi-Subz-Biryani.jpg?1447238329"},
			   {ItemID :12,CategoryID :4,ItemType :0,MenuName :"Shahi Paneer Biryani",MenuDescription :"Loads of tender marinated paneer cubes",Price :198,ItemImage :"http://assets.box8.co.in/picture_resolutions/photos/000/000/409/original/Shahi-Paneer-Biryani.jpg?1447238404"},
			   {ItemID :13,CategoryID :4,ItemType :1,MenuName :"Murg Dum Biryani",MenuDescription :"The quintessential classic boneless chicken biryani",Price :208,ItemImage :"http://assets.box8.co.in/picture_resolutions/photos/000/000/410/original/Murg-Dum-Biryani.jpg?1447238710"},
			   {ItemID :14,CategoryID :5,ItemType :0,MenuName :"Veg Tandoori Mix Wrap",MenuDescription :"Baby Corn, mushrooms, olives, jalapenos in a smoky sauce",Price :118,ItemImage :"http://assets.box8.co.in/picture_resolutions/photos/000/000/444/original/Veg-Tandoori-Mix-Wrap.jpg?1447241317"},
			   {ItemID :15,CategoryID :5,ItemType :1,MenuName :"Seekh Kebab Wrap",MenuDescription :"Chicken kebabs roasted with a spicy sauce",Price :98,ItemImage :"http://assets.box8.co.in/picture_resolutions/photos/000/000/448/original/Seekh-Kebab-Wrap.jpg?1447241583"},
			   {ItemID :16,CategoryID :5,ItemType :1,MenuName :"Chicken Tikka Wrap",MenuDescription :"Chicken kebab in a spicy tikka masala ",Price :138,ItemImage :"http://assets.box8.co.in/picture_resolutions/photos/000/000/451/original/Chicken-Tikka-Wrap.jpg?1447241774"},
			   {ItemID :17,CategoryID :6,ItemType :1,MenuName :"Chicken Seekh Kebab Sandwich",MenuDescription :"Juicy spicy kebabs in a delicious tikka sauce",Price :108,ItemImage :"http://assets.box8.co.in/picture_resolutions/photos/000/000/424/original/Chicken-Seekh-Kebab-Sandwich.jpg?1447239743"},
			   {ItemID :18,CategoryID :6,ItemType :1,MenuName :"Tandoori Chicken Sandwich ",MenuDescription :"The greatest chicken sandwich ever made. Seriously!",Price :148,ItemImage :"http://assets.box8.co.in/picture_resolutions/photos/000/000/426/original/Tandoori-Chicken-Sandwich.jpg?1447239873"},
			   {ItemID :19,CategoryID :6,ItemType :0,MenuName :"Veggie Delight Sandwich",MenuDescription :"Loads of veggies with olives & jalapenos",Price :98,ItemImage :"http://assets.box8.co.in/picture_resolutions/photos/000/000/413/original/Veggie-Delight-Sandwich.jpg?1447238965"},
			   {ItemID :20,CategoryID :7,ItemType :0,MenuName :"Farmer's Market Salad",MenuDescription :"Mushrooms, baby corn, olives, jalapenos with salad dressing",Price :138,ItemImage :"http://assets.box8.co.in/picture_resolutions/photos/000/000/476/original/Farmer's-Market-Salad.jpg?1448014807"},
			   {ItemID :21,CategoryID :7,ItemType :1,MenuName :"Char-Grilled Chicken Salad",MenuDescription :"Tandoor grilled chicken & exotic veggies in a spiced desi dressing",Price :168,ItemImage :"http://assets.box8.co.in/picture_resolutions/photos/000/000/478/original/Char-Grilled-Chicken-Salad.jpg?1448014706"},
			   {ItemID :22,CategoryID :7,ItemType :0,MenuName :"Paneer Tossed Salad",MenuDescription :"Paneer, olives, jalapenos, veggies in an Indian style dressing",Price :178,ItemImage :"http://assets.box8.co.in/picture_resolutions/photos/000/000/477/original/Tossed-Paneer-Salad.jpg?1448014770"},
			   {ItemID :23,CategoryID :8,ItemType :0,MenuName :"Tawa Paratha [Pack of 2]",MenuDescription :"",Price :38,ItemImage :"http://assets.box8.co.in/picture_resolutions/photos/000/000/496/original/Tawa-Paratha.jpg?1448015912"},
			   {ItemID :24,CategoryID :8,ItemType :0,MenuName :"Subz Handi Curry",MenuDescription :"Exotic mix veg in mughlai style gravy",Price :188,ItemImage :"http://assets.box8.co.in/picture_resolutions/photos/000/000/456/original/Subz-Handi-Curry.jpg?1447242249"},
			   {ItemID :25,CategoryID :8,ItemType :1,MenuName :"Chicken Mughlai Curry",MenuDescription :"Delicious fusion of tandoori chicken & our signature spicy gravy",Price :238,ItemImage :"http://assets.box8.co.in/picture_resolutions/photos/000/000/462/original/Chicken-Mughlai-Curry.jpg?1447242614"},
			   {ItemID :24,CategoryID :9,ItemType :0,MenuName :"Gulab Jamun",MenuDescription :"",Price :58,ItemImage :"http://assets.box8.co.in/picture_resolutions/photos/000/000/474/original/Gulab-Jamun.jpg?1447243895"},
			   {ItemID :24,CategoryID :9,ItemType :0,MenuName :"Coke",MenuDescription :"Coke",Price :60,ItemImage :"http://assets.box8.co.in/picture_resolutions/photos/000/000/469/original/Aerated-Beverages.jpg?1447243460"},
			   {ItemID :24,CategoryID :9,ItemType :0,MenuName :"Choco Lava Cake",MenuDescription :"",Price :58,ItemImage :"http://assets.box8.co.in/picture_resolutions/photos/000/000/602/original/Choco-Lava-Cake.jpg?1456988321"}
	];
	
	//Functions
	$scope.GetAvailableLocations=function(){
	     $scope.FilteredLocationList.length=0;
	      if($scope.selectedLocationID !=undefined && $scope.selectedLocationID>0){
		        for ( var i=0; i< $scope.LocationList.length; i++)
		             {
					   if($scope.LocationList[i].ParentID==$scope.selectedLocationID)
					   {
					       $scope.FilteredLocationList.push($scope.LocationList[i]);
					   }
		             }	
                return $scope.FilteredLocationList;					 
	        }
			else{
			    return $scope.LocationList;
			}			
	}
     $scope.LocateDeliveryLocation=function(){
	         $scope.DisableSearch=true;			 
			 $scope.LocateMePlaceHolder=($scope.ParentLocation!=undefined && $scope.ParentLocation.length>0)?"Where in "+$scope.ParentLocation : "Delivery Location eg.Bangalore";
	     if($scope.SearchedLocation != undefined && $scope.SearchedLocation.length > 0){
		     $scope.ShowLocationList = true;
	      }
		  else{
		     $scope.ShowLocationList = false;
		  }
	    }
	 $scope.SelectLocation=function(id,text,type,parentID){
	       $scope.selectedLocationID=id;
		   $scope.SearchedLocation="";
		   $scope.ShowLocationList=false;
		   $scope.LocationID=0;
		   if(type=="DelivLocation"){
		      $scope.DisableSearch=false;
			  $scope.LocateMePlaceHolder="";
			  $scope.ParentLocation="";
			  $scope.SearchedLocation=text;
			  $scope.selectedLocationID=0;
			  $scope.LocationID=id;
		   }
		   else{
		      $scope.ParentLocation=text;
		      $scope.LocateMePlaceHolder ="Where in " + text;
		   }	       
	    }
	 $scope.RemoveSelection=function(){
	         $scope.selectedLocationID=0;
			 $scope.LocationID=0;
		     $scope.SearchedLocation="";
			 $scope.LocateMePlaceHolder="Delivery Location eg.Bangalore";
			 $scope.ShowLocationList=false;
			 $scope.ParentLocation="";
	    }
	 $scope.DisplayMenuList=function(){
	       $scope.ShowLocationSearchDiv=false;
	       $scope.ShowMenuList=true;
		   $scope.ShowItemList=false;
	   }
	 $scope.ShowItems=function(categoryID){
	        $scope.ShowLocationSearchDiv=false;
	        $scope.ShowMenuList=false;
			$scope.ShowItemList=true;
	    }
	 $scope.ShowDeliveryLocationPath=function($filter,$scope){
	        var finalLocationName="";
	        var childLocation= $filter("filter")($scope.LocationList,{ID: $scope.LocationID});
			if(childLocation !=undefined && childLocation.name.length>0){
			    finalLocationName += childLocation.name ;
				while(childLocation.ParentID==0)
				{
				    childLocation= $filter("filter")($scope.LocationList,{ID: childLocation.ParentID});
					finalLocationName += ", "+childLocation.name ;
				}
			}
	    }
	}]);
	
	//Registering directive
	app.directive("menuListHeader",function(){
	   return{
	        restrict: 'A',
	        template:"<h3>What would you like to eat today ?</h3>"
	       }
	});
</script>
</html>  
